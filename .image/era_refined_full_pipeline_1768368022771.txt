A refined, high-fidelity technical architecture diagram of 'ERA-SmartFarm-RAG' (Full Version).
Style: Professional Academic Infographic. Minimalist 2D/Flat style. White background.
Color Palette: Slate Blue (Core), Sage Green (Domain), Amber (Logic).

Layout:
1. **Edge Device Container**: A large rounded rectangle labeled "Edge Device Environment (8GB RAM | Q4_K_M | Offline)" enclosing Sections A, B, and C.

2. **Section A: Knowledge Ingestion (Top)**
   - Flow: [Data Sources] -> [Text Extraction] -> [Embedding] -> [Index & Graph Build] -> [Knowledge Store].
   - **Knowledge Store**: Contains [Dense Index], [Sparse Index], [Causal Graph], [Domain Ontology].
   - **Cache Layer**: A bar below Section A containing [Query Cache], [Embedding Cache], [Response Cache].

3. **Section B: Hybrid Retrieval (Middle)**
   - Flow: [Query Analysis] -> [3-Channel Search (Dense/Sparse/PathRAG)] -> [Context Shaping].

4. **Section C: Answer Generation (Bottom)**
   - Flow: [Prompt Builder] -> [LLM Engine] -> [Response].
   - **Fallback**: Arrow from LLM Engine (failure) -> [Fallback Chain].

5. **Footer**: "No Cloud Required | Full Pipeline On-Device | Data Never Leaves Device".

Visuals:
- Emphasize that all computation happens INSIDE the Edge Device container.
- Use the provided image as a style reference for colors and shapes.
- Clean, legible text. Orthogonal arrows.
